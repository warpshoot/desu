<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DESU™︎</title>
    <link rel="stylesheet" href="common.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Arowana Background Animation -->
    <div class="arowana-container">
        <img src="./images/sakana.gif" alt="" class="arowana">
    </div>

    <!-- Hamburger Menu -->
    <button class="hamburger" id="hamburger" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <!-- Navigation Menu -->
    <nav class="nav-menu" id="navMenu">
        <ul class="nav-list">
            <li><a href="./gallery/">Gallery</a></li>
            <li><a href="./paint/">DESU PAIN+</a></li>
            <li><a href="#" class="disabled">About</a></li>
        </ul>
    </nav>

    <header>
        <a href="./" class="logo-link">
            <img src="./desu_logo.png" alt="DESU™" class="site-logo">
        </a>
    </header>

    <main class="container">
        <!-- Random Illustration Display -->
        <section class="random-illustration-section">
            <div class="random-illustration-container" id="randomIllustrationContainer">
                <img id="randomIllustration" src="" alt="DESU Illustration" class="random-illustration">
            </div>
        </section>

        <!-- Episodes Section -->
        <section class="section">
            <div class="episodes-grid">
                <a href="./ep0/" class="episode-card">
                    <div class="episode-number">Episode 0</div>
                </a>
            </div>
        </section>
    </main>

    <!-- Lightbox -->
    <div id="lightbox" class="lightbox">
        <img id="lightbox-image" src="" alt="Lightbox image">
    </div>

    <footer>
        <p>© 2025 <a href="https://warpshoot.github.io/" target="_blank">wpy</a></p>
    </footer>

    <script>
        // Gallery images (same as gallery.js)
        const galleryImages = [
            './images/desu000.png',
            './images/desu001.png',
            './images/desu002.png',
            './images/desu003.gif'
        ];

        // Display random illustration
        const randomIllustration = document.getElementById('randomIllustration');
        const randomIllustrationContainer = document.getElementById('randomIllustrationContainer');
        const randomIndex = Math.floor(Math.random() * galleryImages.length);
        randomIllustration.src = galleryImages[randomIndex];

        // Make random illustration clickable for lightbox
        randomIllustrationContainer.addEventListener('click', () => {
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightbox-image');
            lightboxImage.src = galleryImages[randomIndex];
            lightbox.classList.add('is-active');
        });

        // Hamburger menu
        const hamburger = document.getElementById('hamburger');
        const navMenu = document.getElementById('navMenu');

        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            navMenu.classList.toggle('active');
        });

        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!hamburger.contains(e.target) && !navMenu.contains(e.target)) {
                hamburger.classList.remove('active');
                navMenu.classList.remove('active');
            }
        });

        const lightbox = document.getElementById('lightbox');
        const lightboxImage = document.getElementById('lightbox-image');

        // Close lightbox
        lightbox.addEventListener('click', () => {
            lightbox.classList.remove('is-active');
        });
    </script>
</body>
</html>
